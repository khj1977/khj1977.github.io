<!doctype html>
<html lang="ja">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="/profile/vendor/bootstrap/css/bootstrap.min.css"> 
  <link rel="stylesheet" href="/profile/css/my-css.css">

  <title>Start point of an analysis of robust property of uncertain systems by numerical experiment | The Mathematical Foundation of Smart Material Systems / Yet Another Mori-Tanaka</title>

</head>

<body>
<div class="my-container">
  <article>
 
    <section class="my-section">
    <h1 class="my-header1">Start point of an analysis of robust property of uncertain systems by numerical experiment</h1>
    
    Note that the following is the draft of contents of this chapter. Therefore, it could be changed.<br/><br/>

    
    Basic data of dynamics and study
    <ul>
    <li>Nominal System is linear</li>
      <ul>
        <li>Parametric uncertainty with stable system. Dynamics compared with K-Disturbance Observer and without K-Disturbance Observer</li>
        <li>Parametric uncertainty with unstable system. Dynamics with and without K-Disturbance Observer</li>
        <li>Comparison with high gain disturbance observer</li>
      </ul>
    </ul>

    <ul>
    <li>Unmodelled dynamics with nominal system is linear</li>
      <ul>
      <li>With and without K-Disturbance Observer</li>
      </ul>
    </ul>

    <ul>
      <li>Nominal System is nonlinear</li>
        <ul>
        <li>Nonlinear dynamics with nonlinear spring x^2 or x^3 and/or nonlinear dumper xdot^3</li>
        </ul>
    </ul>

    <ul>
    <li>What makes a system robust? A start point</li>
    </ul
    >
    <p class="my-p">
    The following is the alpha of draft of this part. Note that the following disturbance observer is not adaptive yet. 
    </p>

    <p class="my-p">
    Also, the following part is open loop response though disturbance is estimated. Study of closed loop response will be done later.
    </p>

    Environment of numerical experiment is as follows:
    <ul>
      <li>Programming language: Python (ver. 3.8.x)</li>
      <li>Visualizing tool: Matplotlib</li>
      <li>Solver of ODE: euler method (Runge-Kutta? Author thought that it is not required considering some numerical experiment done before serious analysis).</li>
      <li>CPU: Apple M1 2020</li>
    </ul>

    <div class="alert alert-primary" role="alert">
    <b class="remark">Remark</b>:<br/>
    <p class="my-p">
    Note that program of the solver of this ODE and observer will not be open source because of considering educational effect. Authour thinks that a student should have technique to implement their own tool of experiment regardless of it is numerical experiment or real experiment. 
    </p>

    <p class="my-p">
    Why? That is because if one goes to a company or research lab, one is required to make their own tool. Always ask to technician? Ask to technician 100 times per month for their drill down? No it is nonsense regardless of one is researcher or developer.
    </p>

    <p class="my-p">
    Here is a hint. Author would say that it is better to study object oriented programming and design pattern. If it were possible, having little knowledge of functional programming is better.
    </p>
    </div>

    <p class="my-p">
    f = lambda t, x, xDot: -2.0 * x - 1.0 * xDot<br/>
    disturbanceF = lambda t, x, xDot: -1.0 * math.sin(t) * x - math.cos(t) * xDot - 2.0 * math.sin(t) * x + 6.0 * math.sin(t)
    </p>

    <p class="my-p">
    Where f is ODE. And disturbanceF is disturbance input to the actual system.
    </p>

    <p class="my-p">
    Why this disturbance or uncertainty? It is close to parametric uncertainty but its parameter is changed periodically. That is modelling of void or little bit unbonded reinforced region of alloy or CFRP. Using a material long time results fatigue of material and its characteristics may be changed. Since if a system is alloy or CFRP, its dynamics could be represented by Yet Another Mori-Tanaka, this supposition may be correct. In addition sin(t) is a toy of vibration or force of wind to a material.<br/><br/>
    </p>

    <p class="my-p">
    X0: x0: 10.0, xdot0: 5.0<br/>

    T: 0.0:10.0, deltaT = 0.01<br/>
    
    U = 3.0 * x1 + 15.0 * x2<br/>
    </p>

    <div class="my-center">
    <figure>
    <img class="img-smp" src="/mphil_thesis_additional/fig/fig1.png" alt="fig1" />
    </figure>
    </div>

    <p class="my-p">
    Where x axis is xdot and y axis is x. Nominal system is periodical but converges to origin. Transient response of observer is not good. Is it because of gain of observer or bug of program?
    </p>

    <p class="my-p">
    Disturbance is estimated well. But there is error. That might be because of fact that gain is not appropriate. If it were adaptive, it is OK.
    </p>

    <p class="my-p">
    f = lambda t, x, xDot: -2.0 * x - 1.0 * xDot<br/>
    disturbanceF = lambda t, x, xDot: -1.0 * math.sin(t) * x - math.cos(t) * xDot - 2.0 * math.sin(t) * x + 6.0 * math.sin(t)
    </p>

    <p class="my-p">
    Nominal system is linear. But disturbance is nonlinear with sin pure disturbance. It makes system interesting behaviour. It is better to make endT longer and check basic data. And drill down.
    </p>

    <p class="my-p">
    It might be better to change range of x-y of grpah to drill down with the same time range.
    </p>

    <p class="my-p">
    It is better to check data with t-x and t-xdot axes to check how it oscialate from the other view point. Heat map would be better choice to check behaviour of tangent space since overall system is nonlinear. But it will require much more CPU power and hence, it might be little bit difficult though it is worth to investigate it.
    </p>

    <p class="my-p">
    t: 0:100.0. deltaT = 0.01<br/>
    With the same parameter as above.
    </p>

    <div class="my-center">
      <figure>
      <img class="img-smp" src="/mphil_thesis_additional/fig/fig2.png" alt="fig2" />
      </figure>
      </div>
    
    <p class="my-p">
    There is effect to nonlinear disturbance to actual sytem which is oscilating. Very interesting behaviour with nonlinear. It would be interesting to analyze modes of this dynamics using FFT. Does this dynamics become chaotic?
    </p>

    <p class="my-p">
    Is it posssible to estimate disturbance perfectly with adaptive feedback?
    </p>

    <p class="my-p">
    It could be supposed that if it were wing of aeroplane, its behaviour cannot be tolerated since it is used to control dynamics of fluid and aeroplane itself. Or even wing could be broken. Thus, control is required.
    </p>

    <p class="my-p">
    The dynamics of fluid is modelled by sin(t) but in practice, it would be more complex signal. If there are hard disturbance, it would be difficult to control behaviour of aeroplane. Cancel out its behaviour using K-Disturbance Observer is one of a way. But if a dynamics of fluid is partially controllable with some change of shape of wing of aeroplane, what would be happened? If fluid were modelled by Digital Langrangian, it is high order ODE and it is targe of control. In that time, sin(t) is a subsystem to be connected to a main system. It would be obvious to specialist of fluid dynamics. But for author, it is interesting topic to investigate.
    </p>

    <p class="my-p">
    Although author is not specialist of econimist, there is one thing to mention. Decoupling of a sub system would be a topic to dynamics of economics. But decoupling would require much more control input. So, it is better to utilize more effective control. Sometimes, sliding mode or disturbance observer is good for economical system. But for sometimes, ordinally control is better to that kind of system. Author would like to know investigation by economists.
    </p>

    <p class="my-p">
    Using theroy described in my core M.Phil thesis, it is possible to estimate void of a material during it is under opereration. If there could be void, it should be maintenanced or even exchanged with new one. But since it is sensored by attached material, measurement itself could be broken. Hence, it can be said that measurement and mentenance on offline is important.
    </p>

    <div class="alert alert-primary" role="alert">
      <b class="remark">Remark</b>:<br/>
      <p class="my-p">
      Although it would be obvious for specialist of economics, there is small mention about dynamics of economical system from a view point of control. Forgot about inter-country effect. Then, a system of a country will be some kind of matrix A where it is linear or nonlinear. State would be a topline of a industry or even a saraly of a person.
      </p>

      <p class="my-p">
      Author suppose that Japanese economy is not good state because there would be some non appropriate balance of expense of personal budget. Provided that, a problem of optimization of Japanese economy would be optimization of state dynamics. Then, what would be done would be re-design of system matrix A of Japan possibly with control.
      </p>

      <p class="my-p">
      Note that for economists, it might be difficult to mdoel a system by matrix A and vector x. But it is better to model by graph;i.e. node and edge graph. Then, covert that graph to matrix A where it would linear or nonlinear matrix.
      </p>

      <p class="my-p">
      Why such a remark? That is because author is writing MBA thesis: <a href="/mba_thesis/">The Modern Strategy from Japan</a> (in Japanese). That thesis is for turn around of Japan.
      </p>
    </div>

    <div class="my-center">
      <figure>
      <img class="img-smp" src="/mphil_thesis_additional/fig/fig3.png" alt="fig3" />
      </figure>
      </div>
    
    <p class="my-p">
    Range of graph is changed. There are error between oberver and actual system. There is error with disturbance estimation. It might be because of gain of observer. Since the nominal system is linear, if perfectly nonlinearlity is cancelled out, it should ocsilate around origin or stable around origin. It means that even nonlinear effect with modelled one is cancelled out, in practice, it could be still nonlinear if no robust control is applied. Actually, in the field of CFRP which is done at University of Tsukuba, there is a modelling error with nonlinear experiment whose model is complex enough. In this part, estimated disturbance is not used to cancel out. It might be interesting to see what will be happened if it were used to cancel out. It would be still nonlinear. Does it go to delta region? It should be investigated later.
    </p>

    <p class="my-p">
    By those figures, it can be said that with appropriate feedback gain to disturbance observer, it can be estimate disturbance very well. As pointed out by other researchers, weak point of my core M.Phil thesis is definition of disturbance function f(x). That is fine to estimate parametric uncertainty by observer. But if it were hard nonlinear, is it still possible to estimate nonlinear disturbance well?
    </p>

    <p class="my-p">
    It could be said that the analysis or thought of what is disturbance and uncertainty, which is f(x), was shallow for my core M.Phil thesis.
    </p>

    <p class="my-p"></p>
    As pointed out, even nonminal system is considered as linear, there would be hidden nonlinearity. So, nonlinear disturbance is important. It is partially proved that even hard nonlinear, disturbance is estimated well. If it were adaptive, estimated disturbance would be better than this one. Note that it could be said that all the class of nonlinearity cannot be proved to be estimated. But practically speaking, numerical experiment of some class of nonlinear disturbance would be enough. The theory and proof of all the class of nonlinear disturbance is left for further work.
    </p>

    <p class="my-p">
    Therefore, the adaptive feedback controller proposed would be usefull for practical situation. If there are no input constraint and a user of controller does not chase myth of nonlinear, it could be said that this adaptive robust controller is one of the choice for engineer for smart material systems or even for robot.
    </p>

    <p class="my-p">
    Yet another question is, is it really required to cancel out all the uncertainty especially nonlinear effect? Actually, since contorller is designed based on nominal system, it is better to cancel out disturbance. That is the objective of controller of this thesis and research. However, if there exist nonlinear system which is robust even there is uncertainty and converge into delta region, it is not required to cancel all the effect of disturbance. Since there is input constraint it would be better to research quasi robust property of nominally nonlinear system. 
    </p>

    <p class="my-p">
    If this supposition is correct, it would be better to research nonlinear feedback controller even for nominally linear system especially for robust control.
    </p>

    <h2 class="my-header2">Geometrical analysis of nominally linear systems</h2>

    <p class="my-p">
    From this part, nominally linear system is analyzed. Although dynamical behaviour of nominally linear system can be evaluated by eigen value/vector of the system matrix A, geometrical analysis is deployed in this part. That is because of fact that if a nominal system is nonlinear, linear algebra cannot be used anymore expect analysis on tangent space. Therefore, for nominally nonlinear system, firstly, linear system is analyzed geometrically, and then, nominally nonlinear is analyzed mainly by geometrical aspect using the insight of combination of algebra and geometry of nominally linear systems.
    </p>

    <div class="my-center">
      <figure>
      <img class="img-smp" src="/mphil_thesis_additional/fig/fig4.png" alt="fig4" />
      </figure>
      </div>
    
    <p class="my-p">
    f = lambda t, x, xDot: -6.0 * x - 5.0 * xDot<br/>
    disturbanceF = lambda t, x, xDot: 0.0<br/>
    
    T: 0:100.0 deltaT + 0.01<br/>
    </p>

    <p class="my-p">
    Without disturbance with nonminal system is stable around origin. It converges to origin appropriately
    </p>
    
    <div class="my-center">
      <figure>
      <img class="img-smp" src="/mphil_thesis_additional/fig/fig5.png" alt="fig5" />
      </figure>
      </div>
    
    <p class="my-p">
    The same setting with above. Transient response of observer is not good. But it converges to actual system well. Since nominal system is stable, it converges to origin well.
    </p>

    <p class="my-p">
    There is little curve of trajectory of actual system.
    </p>

    <p class="my-p">
    X is little bit over shoot. But not so wrong. There may be better transient response and parameter of nominal system. It is required to change behaviour of system by feedback.
    </p>
    
    <div class="my-center">
      <figure>
      <img class="img-smp" src="/mphil_thesis_additional/fig/fig6.png" alt="fig6" />
      </figure>
      </div>
    
    <p class="my-p">
    f = lambda t, x, xDot: -6.0 * x - 5.0 * xDot<br/>
    disturbanceF = lambda t, x, xDot: 1.0 * x + 1.5 * xDot
    </p>

    <p class="my-p">
    The nominal system behave well. There is error of estimation of disturbance but it does not result bad result. Transient response of observer is a problem. What is happened if as a result of disturbance, the system is unstable? Is estimation speed of feedback is fast enough to stable system?
    </p>

    <p class="my-p">
    Test the same disturbance with 0 feedback of estimation of disturbance.
    </p>

    <div class="my-center">
      <figure>
      <img class="img-smp" src="/mphil_thesis_additional/fig/fig7.png" alt="fig7" />
      </figure>
      </div>
    
    <p class="my-p">
    f = lambda t, x, xDot: -3.0 * x - 0.1 * xDot<br/>
    disturbanceF = lambda t, x, xDot: 0.0
    </p>
    
    <p class="my-p">
    Since the effect of linear spring is strong and little effect of linear dumper, it osciallating but converges slightly with wave. Because dumper absorb energy of the system, it converges to the origin.
    </p>

    <p class="my-p">
    If it were nonlinear dumper xDot^3, what will be happened? It still absorbs energy? Also, nonlinear disturbance described in the another section, - math.cos(t) * xDot, seeems to change the mode of system since coefficient is -cos(t). Is coefficient of dumper xdot^2? It means the system is xDot^2 * xDot?
    </p>
    
    <p class="my-p">
    Note: why nonlinear dumper is xDot^3? Author supposes that might be the same reason with effect of pressure of wind against fast vehicle or bicycle. If it were wind, if speed gets faster, its wind pressure gets higher. It is not linear. So, considering fitting with pressure curve, it would be xDot^2 or xDot^3.
    </p>

    <p class="my-p">
    Or even there could be another type of nonlineaer dumper which is x * xDot. Or even it could be sum_i(delta_i * sin(omega_i * x)) * kappa * x * xDot. Why? As for x, that is because an effect of a absorber may be depends on its depth within an absorber. Also, sin(omega_i * x) expresses a effect of turbulence of fluid dynamics of oil with moviing absorber. It is very interesting modelling. It would be investigated later.
    </p>
    
    <div class="alert alert-primary" role="alert">
      <b class="remark">Remark</b>:<br/>
      <p class="my-p">
      It should be noted that if characteristics of nonlinear dumper gets clear, it could be possible to make nonlinear feedback controller. So, the yet another question is what is an appropriate control input? In the sense of asymptotic stability, robustness and optimal control. It would be different respect with an objective. At this time, since robustness is the main topic of this research, author would investigate with the view point of robustness.
      </p>
    </div>    

    <div class="alert alert-primary" role="alert">
      <b class="remark">Remark</b>:<br/>
        <p class="my-p">
        It is said in this part that in analysis of nonlinear nominal system, physical insight and comparison with linear counter part will be deployed to analyze its dynamics. If it were linear, it is obvious that it can be analyzed by eigen value. But if it were nonlinear, it can not. Is there some view point which describe what is nonlinear completely? No, there is not. So, using hypothesis driven physical insight, some technique of visuallization and numerical and analytical mathematical analysis, which is not formula like eigen value, will be deployed.
        </p>
  
        <p class="my-p">
        If real world applications are nonlinear and linear algebra is obsolete, studying linear algebra is not required? The answer is no. If it were mechanical systems, it could be analyzed using taylor seriese by each (t, x) of a system xDot = f(x, t). If it were NLP, there are many real world application of linear algebra. If it were psychology, without knowing linear albebra, statical processsing cannot be done. In that sense, linear algebra is still important.
        </p>
      </div>

    <div class="my-center">
      <figure>
      <img class="img-smp" src="/mphil_thesis_additional/fig/fig8.png" alt="fig8" />
      </figure>
      </div>
    
    <p class="my-p">
    f = lambda t, x, xDot: -3.0 * x - 0.001 * xDot<br/>
    disturbanceF = lambda t, x, xDot: 0.0
    </p>

    <p class="my-p">
    Since the effect of linear dumper is too small, the system is almost oscillating.
    </p>

    <p class="my-p">
    However, error dynamics is too large despite the fact that trajectory of disturbance observer and actual system seems close enough. Or it is not close enough? Just it is not analyzed by drill down? It is odd because other ODE trajectories seems fine.
    </p>

    <p class="my-p">
    There could be bug of program. The question is if there was bug, these numerical experiment is obsolete? The answer is no. It was sugtested by a researcher that if bug is analyzed, and that effect of error is included in nominal system or disturbance, this research result is still fine.
    </p>

    <div class="my-center">
      <figure>
      <img class="img-smp" src="/mphil_thesis_additional/fig/fig9.png" alt="fig9" />
      </figure>
      </div>
    
    <p class="my-p">
    disturbanceF = lambda t, x, xDot: 1.0 * x - 1.5 * xDot
    </p>

    <p class="my-p">
    Disturbance is dumper. The system becomes stable around origin but dumped. What will be happened if trajectory is shown around origin?
    </p>

    <div class="my-center">
      <figure>
      <img class="img-smp" src="/mphil_thesis_additional/fig/fig10.png" alt="fig10" />
      </figure>
      </div>
    
      <div class="my-center">
        <figure>
        <img class="img-smp" src="/mphil_thesis_additional/fig/fig11.png" alt="fig11" />
        </figure>
        </div>
    
    <p class="my-p">
    It oscialte with the effect of dumper as disturbance. What if gain of disturbance observer is determined adaptively? The current gain of observer is as follows:
    </p>

    <p class="my-p">
    U = 3.0 * x1 + 15.0 * x2
    </p>

    <p class="my-p">
    It seems the error between estimated disturbance and actual disturbance is small enough. But the system is oscillating around origin. System will goes to delta region, so small behaviour in delta region may exist. It may cause disturbance oscilate. The question is the same. What happened if the gain is determined adaptively? Then, oscilating gets small enough, and it would be tolerant for actual system such as robot, vehicle or even building. Note that the nominal system is not stable but osicillating roundly around origin. The effect of nominal system make that system behaviour?
    </p>

    <p class="my-p">
    However, since it is delta region, it could be OK for this dynamics.
    </p>

    <div class="my-center">
      <figure>
      <img class="img-smp" src="/mphil_thesis_additional/fig/fig12.png" alt="fig12" />
      </figure>
    </div>

    <p class="my-p">
    f = lambda t, x, xDot: -3.0 * x - 0.1 * math.sin(2.0 * x) * x * xDot<br/>
    disturbanceF = lambda t, x, xDot: 0.0
    </p>

    <p class="my-p">
    Nominal system is nonlinear. It may be better to analyze by FFT and tangent space with 3D which are basic data;i.e. x: xdot, y: x, z: ||x||^2 which is kind of Lyapunov function with taylor series with each (t, x) which is tangent space.
    </p>

    <p class="my-p">
    Since the dynamics might go towards potential lower, it is better to analyze animated lyapunov like function with time t. It is also better to analyze vector flow with time t. Since it is nonlinear, Lyapunov function and vector flow would be changed time by time.
    </p>

    <p class="my-p">
    The question is is there nonlinear sliding mode surface which is curved but smooth? Which should be investigated by numerical calculation. Check sensibility of changing dynamics or tangent space with different control input or coefficient of dynamical system. Then, which would be first step to think about control.
    </p>

    </section>

    <footer class="my-footer">
    <div>
      <a href="/mphil_thesis_additional/">Index</a><br/><br/>
    </div>
    End of Article
  </footer>
</article>
</div>

</body>

</html>